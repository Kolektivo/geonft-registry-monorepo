<template>
  <div class="page mapContainer">
    <!-- <p>${state.value}</p>
    <button click.trigger="createGeoNFT()">CREATE NFT</button>
    <button click.trigger="startEdition()">START EDITION</button> -->
    <div id="sidebar" class="sidebar closed">
      <button click.trigger="toggleSidebar()" class="sidebar-button">
        ${sidebar ? "X" : "-"}
      </button>
      <div class="sidebar-content">
        <h2>GeoNFT's</h2>
        <button>Add Foodforest</button>
        <button>Add Weather station</button>
      </div>
    </div>
    <div class="map-wrap" ref="mapWrap">
      <div id="map" class="map" ref="mapDiv">
      </div>
      <button
        id="start-edition"
        click.trigger="startDrawing()"
        disabled.bind="status !== 'idle'"
      >
        START DRAWING
      </button>
      <button
        id="undo-button"
        click.trigger="undo()"
      >
        UNDO
      </button>
      <button
        id="finish-edition" 
        click.trigger="finishDrawing()"
        disabled.bind="status !== 'drawing'"
      >
        FINISH DRAWING
      </button>
      <button
        id="cancel-edition" 
        click.trigger="cancelDrawing()"
        disabled.bind="status !== 'drawing' && status !== 'metadata'"
      >
        CANCEL EDITION
      </button>
      <button
        id="toggle-basemap" 
        click.trigger="toggleBasemap()"
      >
        TOGGLE BASEMAP
      </button>
      <div id="feature-data-box">
        <button
          id="close-data-box"
          click.trigger="closeDataBox()"
        >
          X
        </button>
        <div id="feature-data"></div>
        <button click.trigger="editFeature()">EDIT</button>
        <button click.trigger="finishDrawing()">FINISH</button>
      </div>
      <div id="form-data">
        <input id="form-value" type="text" placeholder="Enter data value" />
        <button click.trigger="sendValue()">
          Send value
        </button>
      </div>
    </div>
  </div>
</template>
